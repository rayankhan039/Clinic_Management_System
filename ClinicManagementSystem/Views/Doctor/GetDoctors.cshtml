@model List<ClinicManagementSystem.Models.Doctor>
@{
    ViewData["Title"] = "GetDoctorsAsync";
}

<div class="container">

    <h1 class="text-primary">All Doctors</h1>

    <div class="container align-content-center">
        <table class="table table-hover table-responsive">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Doctor Name</th>
                    <th>Doctor Contact</th>
                    <th>Doctor Speciality</th>
                    <th>Status</th>
                    <th>Is Available</th>

                    <th>Edit</th>
                    <th>Delete</th>
                </tr>
            </thead>
            <tbody>
                @if (Model.Count == 0)
                {
                    <tr><th>No Doctor Yet</th></tr>
                }
                @foreach(var doc in Model)
                {
                    <tr>
                        <td>@doc.Doctor_Id</td>
                        <td>@doc.Name</td>
                        <td>@doc.Contact</td>
                        <td>@doc.Specialization</td>
                        <td>
                            @{

                                if (!doc.IsActive)
                                {
                                    <p class="text-danger">Not Available</p>
                                }
                                else
                                {
                                <p class="text-success">Available</p>
                                    
                                }



                            }
                          
                       
                        </td>

                        <td>
                            <form asp-action="ToggleAvailability" asp-controller="Doctor" method="post" style="display:inline;">
                                <input type="hidden" name="id" value="@doc.Doctor_Id" />
                                <input type="hidden" name="status" value="true" />
                                <button type="submit" class="btn btn-success" @(doc.IsActive ? "disabled" : "")>Available</button>
                            </form>


                            <form asp-action="ToggleAvailability" asp-controller="Doctor" method="post" style="display:inline;">
                                <input type="hidden" name="id" value="@doc.Doctor_Id" />
                                <input type="hidden" name="status" value="false" />
                                <button type="submit" class="btn btn-danger" @(doc.IsActive ? "" : "disabled")>Unavailable</button>
                            </form>
                        </td>
                        <td ><a asp-route-id="@doc.Doctor_Id" asp-action="AddEditDoctor" asp-controller="Doctor" class="btn btn-warning">Edit</a></td>
                       
                        <td ><a asp-route-id="@doc.Doctor_Id" asp-action="DeleteDoctor" asp-controller="Doctor" class="btn btn-danger">Delete</a></td>

                        
                   </tr>
                }
            </tbody>
    </table>
</div>

</div>

